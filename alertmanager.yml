global:
  resolve_timeout: 5m
route:
  receiver: 'slack-alerts'
  group_by: ['serverity' , instance]
  group_wait: 10s
  group_interval: 5m
  repeat_interval: 1h
  routes:
    - match:
        severity: "critical"
      group_by: ['serverity' , instance]
      group_wait: 10s
      group_interval: 1m
      repeat_interval: 15m
      receiver: 'slack-alerts'
    - match:
        severity: "warning"
      group_by: ['serverity' , instance]
      group_wait: 2m
      group_interval: 5m
      repeat_interval: 1h
      receiver: 'slack-alerts'
    - match:
        severity: "info"
      group_by: ['serverity' , instance]
      group_wait: 2m
      group_interval: 10m
      repeat_interval: 4h
      receiver: 'slack-alerts'
receivers:
  - name: 'slack-alerts'
    slack_configs:
      - channel: "#DevOps-Alerts"
        api_url: "slack-webhook-url"
        send_resolved: true
        text: "{{ range .Alerts }}{{ if or (eq .Status \"resolved\") (eq .Status \"recovered\") }}🟢 {{ .Annotations.summary }}{{ else }}🔥 {{ .Annotations.summary }}{{ end }}\n\n📌 Description:\n{{ .Annotations.description }}\n\n🔍 Details:\n{{ range .Labels.SortedPairs }}• {{ .Name }}: {{ .Value }}\n{{ end }}\n\n👥 DevOps Team:\n<@U08AD13BJLX> <@U08BC0TS0JU> <@U08AMNS7V6W> <@U08AHB1D85C>\n{{ end }}"
